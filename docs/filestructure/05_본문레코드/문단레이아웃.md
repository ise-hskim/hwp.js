# 문단 레이아웃 및 영역 태그

## 문단의 레이아웃 (HWPTAG_PARA_LINE_SEG)

Tag ID: 0x045 | 크기: 36×n bytes

문단의 각 줄을 출력할 때 사용한 Cache 정보입니다. 문단 헤더의 '각 줄에 대한 align에 대한 정보 수'만큼 반복됩니다.

### 구조 (표 62)
| 자료형 | 길이(바이트) | 설명 |
|--------|------------|------|
| UINT32 | 4 | 텍스트 시작 위치 |
| INT32 | 4 | 줄의 세로 위치 |
| INT32 | 4 | 줄의 높이 |
| INT32 | 4 | 텍스트 부분의 높이 |
| INT32 | 4 | 줄의 세로 위치에서 베이스라인까지 거리 |
| INT32 | 4 | 줄간격 |
| INT32 | 4 | 컬럼에서의 시작 위치 |
| INT32 | 4 | 세그먼트의 폭 |
| UINT32 | 4 | 태그 (아래 참조) |
| **전체 길이** | **36** | |

### 태그 비트 필드
| 비트 | 설명 |
|------|------|
| bit 0 | 페이지의 첫 줄인지 여부 |
| bit 1 | 컬럼의 첫 줄인지 여부 |
| bit 16 | 텍스트가 배열되지 않은 빈 세그먼트인지 여부 |
| bit 17 | 줄의 첫 세그먼트인지 여부 |
| bit 18 | 줄의 마지막 세그먼트인지 여부 |
| bit 19 | 줄의 마지막에 auto-hyphenation이 수행되었는지 여부 |
| bit 20 | indentation 적용 |
| bit 21 | 문단 머리 모양 적용 |
| bit 31 | 구현상의 편의를 위한 property |

## 문단의 영역 태그 (HWPTAG_PARA_RANGE_TAG)

Tag ID: 0x046 | 크기: 12×n bytes

range tag는 텍스트의 일정 영역을 마킹하는 용도로 사용되며, 글자 모양과는 달리 각 영역은 서로 겹칠 수 있습니다. (형광펜, 교정 부호 등)

### 구조 (표 63)
| 자료형 | 길이(바이트) | 설명 |
|--------|------------|------|
| UINT32 | 4 | 영역 시작 |
| UINT32 | 4 | 영역 끝 |
| UINT32 | 4 | 태그 (종류 + 데이터) |
| **전체 길이** | **12×n** | n = range tag 정보 수 |

### 태그 구조
- **상위 8비트**: 태그 종류
- **하위 24비트**: 종류별로 다른 설명을 부여할 수 있는 임의의 데이터

### 사용 예
- 형광펜 표시
- 교정 부호
- 메모 영역
- 변경 추적 영역

## 특징

### 레이아웃 정보
- 실제 렌더링 시 사용되는 캐시 정보
- 페이지/컬럼 배치 정보 포함
- 줄 단위 세부 위치 정보

### 영역 태그
- 텍스트의 논리적 마킹
- 겹침 가능 (글자 모양과 다름)
- 다양한 표시 기능 지원