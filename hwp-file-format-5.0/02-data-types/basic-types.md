# 기본 자료형

## 개요

앞으로 계속되는 설명에서 한글의 문서 파일에 저장되는 정보는 아래 표에 설명하는 자료형을 이용해 표현합니다.

## 바이트 순서 (Endianness)

- **한 바이트**: 8 비트로 표현
- **두 바이트 이상**: **리틀 엔디언(Little-endian)** 형태
  - 최하위 바이트가 가장 먼저 저장
  - 최상위 바이트가 가장 나중에 저장

## 배열 표현

파일에 저장되는 자료가 배열(array)일 때는 **`자료형 array[개수]`**와 같이 표현합니다.

**예시**: 10개의 원소를 갖는 word 배열 → `word array[10]`

## 기본 자료형 표

| 자료형            | 길이(바이트) | 부호 | 설명                                       |
| ----------------- | ------------ | ---- | ------------------------------------------ |
| **BYTE**          | 1            | 없음 | 부호 없는 한 바이트(0～255)                |
| **WORD**          | 2            | 없음 | 16비트 컴파일러에서 `unsigned int`에 해당  |
| **DWORD**         | 4            | 없음 | 16비트 컴파일러에서 `unsigned long`에 해당 |
| **WCHAR**         | 2            | -    | 한글의 기본 코드로 유니코드 기반 문자      |
| **HWPUNIT**       | 4            | 없음 | 1/7200인치로 표현된 한글 내부 단위         |
| **SHWPUNIT**      | 4            | 있음 | 1/7200인치로 표현된 한글 내부 단위         |
| **UINT8**         | 1            | 없음 | `unsigned __int8`에 해당                   |
| **UINT16**        | 2            | 없음 | `unsigned __int16`에 해당                  |
| **UINT32(=UINT)** | 4            | 없음 | `unsigned __int32`에 해당                  |
| **INT8**          | 1            | 있음 | `signed __int8`에 해당                     |
| **INT16**         | 2            | 있음 | `signed __int16`에 해당                    |
| **INT32**         | 4            | 있음 | `signed __int32`에 해당                    |
| **HWPUNIT16**     | 2            | 있음 | INT16과 같음                               |
| **COLORREF**      | 4            | -    | 32비트 값(0x00BBGGRR)로 색상을 표현        |
| **BYTE stream**   | 가변         | -    | 일련의 BYTE로 구성됨                       |

## 특수 자료형 상세 설명

### WCHAR

- **정의**: 한글의 내부 코드로 표현된 문자 한 글자를 표현하는 자료형
- **특징**: 한글의 내부 코드는 한글, 영문, 한자를 비롯해 모든 문자가 **2바이트의 일정한 길이**를 가짐
- **인코딩**: 유니코드(UTF-16LE) 기반

> 주: 파일 저장 형식은 UTF-16LE입니다. C/C++의 `wchar_t` 크기/엔디언은 플랫폼에 따라 2바이트(Windows) 또는 4바이트(Linux/glibc)일 수 있습니다. 파일 파싱 시에는 플랫폼의 `wchar_t`와 무관하게 항상 고정 2바이트 코드 유닛(UTF-16LE)로 해석하세요.

### HWPUNIT과 SHWPUNIT

- **용도**: 문서를 구성하는 요소들의 크기를 표현하기 위한 자료형
  - 문자의 크기
  - 그림의 크기
  - 용지 여백
  - 기타 레이아웃 관련 크기

- **기본 단위**: **1/7200인치**
- **이유**: 문서 출력 장치의 해상도는 가변적이기 때문에, 크기 정보를 점(도트)의 수로 표현할 수 없음

#### 크기 계산 예시

**[가로 2인치 × 세로 1인치]** 짜리 그림의 크기:

- **가로**: 2 × 7200 = **14400** HWPUNIT
- **세로**: 1 × 7200 = **7200** HWPUNIT

### COLORREF

색상 정보를 저장하는 자료형입니다.

- **형식**: `0x00BBGGRR`
- **구성**:
  - **rr**: red 성분 (1 byte)
  - **gg**: green 성분 (1 byte)
  - **bb**: blue 성분 (1 byte)
  - **00**: 예약된 영역

#### 색상 예시

- **빨간색**: `0x000000FF`
- **녹색**: `0x0000FF00`
- **파란색**: `0x00FF0000`
- **흰색**: `0x00FFFFFF`
- **검은색**: `0x00000000`

### BYTE stream

- **정의**: 일련의 BYTE로 구성된 데이터
- **사용처**: 본문 내에서 다른 구조를 참조할 경우에 사용
- **특징**: 가변 길이를 가지며, 내부 구조는 컨텍스트에 따라 결정

## 프로그래밍 언어별 매핑

### C/C++

```c
#include <stdint.h>
typedef uint8_t   BYTE;
typedef uint16_t  WORD;
typedef uint32_t  DWORD;
typedef wchar_t   WCHAR;    // 주의: wchar_t 크기는 플랫폼 의존
typedef uint32_t  HWPUNIT;  // 파일 저장은 1/7200 inch 단위의 정수
typedef int32_t   SHWPUNIT;
typedef uint8_t   UINT8;
typedef uint16_t  UINT16;
typedef uint32_t  UINT32;
typedef int8_t    INT8;
typedef int16_t   INT16;
typedef int32_t   INT32;
typedef int16_t   HWPUNIT16;
typedef uint32_t  COLORREF; // 0x00BBGGRR
```

### 주의사항

- **플랫폼 의존성**: 일부 자료형의 크기는 컴파일러와 플랫폼에 따라 다를 수 있음
- **16비트 호환**: 자료형 정의는 16비트 컴파일러 기준으로 작성됨
- **현대적 정의**: 현재는 고정 크기 정수형(`uint8_t`, `uint16_t` 등) 사용 권장

---

_이러한 자료형들은 한글 문서 파일의 모든 데이터 구조에서 일관되게 사용됩니다._

## 관련 표 (원문)

- 자료형 섹션에는 번호가 매겨진 표 없음(원문 일반 표/리스트 참조)
