# HWP 5.0 문서 정합성 체크리스트

## 상태 표기

- [x] 완료
- [ ] 진행 필요
- [~] 부분 완료 (추가 작업 필요)

---

## A. 스펙 핵심 정합성

- [x] 레코드 헤더 32bit(bitfield: TagID 10 / Level 10 / Size 12)로 정정, 8바이트/1MB 오기 제거
- [x] 확장 길이 규칙(0xFFF + DWORD 추가) 반영 및 주의 박스 추가
- [x] Level/Size 상한 명시: Level 0~1023, Size12 0~4094(0xFFF=확장)
- [x] 플랫폼 안전 파싱 권고(엔디언/정렬, memcpy 예시) 명문화

## B. Tag ID / Control ID 체계

- [x] DocInfo/BodyText Tag ID 표를 `HWPTAG_BEGIN+N (0xNNNN)`로 통일
- [x] VIDEO_TDATA vs `HWPTAG_VIDEO_DATA(+82)` 혼선 주석 추가
- [x] SOFTEDGE 철자 교정
- [x] 확장 Tag ID 항목: 그림 개체(HWPTAG_SHAPE_COMPONENT_PICTURE) 하위 속성으로 이관 및 요약 문서 추가(`02-body-text/picture-effects.md`)
- [x] "사용자 정의 Tag ID 범위"를 경고 문구로 전환 및 하단 배치

## C. 표/범례/출처 일관화

- [x] 파일 구조 표 범례 추가(✅, (선택) 의미)
- [x] 컨트롤 표에 출처 열 추가(표 127/128/67)
- [x] 컨트롤 표의 "파일 태그" 열 의미/공란 의미 범례 보강(해당 없음/미확인 구분)
- [x] 다른 섹션 표에도 공통 범례 재사용 또는 공통 범례 섹션 신설

## D. 자료형/예시 코드

- [x] COLORREF 설명을 0x00BBGGRR 표기로 통일
- [x] COLORREF 섹션 형식 라인(0x00bbggrr → 0x00BBGGRR) 일관화 체크
- [x] WCHAR: UTF-16LE 저장 vs `wchar_t` 플랫폼 차이 주의 추가
- [x] C 매핑을 `stdint.h` 기반 표기로 교체(`uint32_t` 등) 및 주석 보강

## E. 링크/앵커/이스케이프

- [x] 루트 README 목차 깨진 링크 복구 및 불필요 주석 제거
- [x] `_LinkDoc` 이스케이프(`\_LinkDoc`) 전 문서 일관성 점검
- [x] 내부 상대 링크(상위/하위 섹션) 자동 검증 루틴 도입 (`scripts/check_links.js`)

## F. 개체/컨트롤 연계 명시

- [x] 컨트롤 표에 출처 범례 추가, 문단 리스트 의미 명시
- [x] `$vid` 컨트롤 ↔ `HWPTAG_VIDEO_DATA(+82)` 연계 주석 추가(특수 개체 표 하단)
- [x] "파일 태그" 열 값 채우기 또는 미적용 명시

## G. 부록/이력/단위

- [x] `DocHistory` 문서의 표/페이지 출처 정밀화(모호한 범위 표기 제거)
- [ ] HWPUNIT 정수 변환/반올림 지침 추가(레이아웃 vs 인쇄 기준)

## H. README/가이드 구분

- [ ] 루트 README에 "이 저장소는 스펙 + 구현 가이드 포함" 안내 추가 및 섹션 라벨링

## I. 표 매핑(원문 표 번호 병기)

- [x] 섹션별 관련 표 번호 병기: DocInfo/BodyText/Controls/그림 효과/파일 구조/스토리지/히스토리/서론/자료형/레코드 구조/부록 완료

## J. PM 리뷰 후속 작업

- [x] BodyText 문단 표 번호 병기 보강: 텍스트(표 60), 글자 모양(표 61), 레이아웃(표 62), 영역 태그(표 63)
- [x] DocInfo 관련 범위 세분화 표기(표 23~56 → 서브섹션 단위로 쪼개기)
- [x] 그림 효과 속성 요약 확장: 표 108~112 필드/타입/비트 플래그 상세 표 추가
- [x] DocInfo 변경 추적 관련 항목(`HWPTAG_TRACKCHANGE*`, `FORBIDDEN_CHAR`)에 원문 출처 병기(표 13 등) 및 값 재검증
- [x] BodyText의 `RESERVED(0x0059)` 주석 명확화(의미/범위)
- [x] DocHistory 코드 성격 명시: `HISTORY_RECORD_TYPE_*`은 Tag ID가 아님
- [x] 용어 통일: 네온(Glow)로 고정, 문단 리스트 용어 일관화
- [x] 링크 체크 스크립트 README 사용법/예외 설명 추가, 앵커 검증 확장
- [x] `_LinkDoc` 이스케이프 전수 재확인
- [ ] `basic-types.md`에 UTF-16LE 강제 해석 문구 보강
- [ ] 경고/주의 콜아웃 스타일 통일(형식 규정 반영)
- [x] "관련 표 (원문)" 블록 위치/형식 표준화(최하단, 구분선 뒤)
- [x] 컨트롤 표의 "파일 태그" 값 근거 주석 보강(필요 항목만 예외 명시)
- [ ] 스토리지 요약 표 추가: 압축/암호화/레코드 기반/대표 레코드
- [ ] 개체 공통 속성 적용 범위 매핑 표 추가(선/사각형/타원/호/다각형/곡선)
- [ ] 전 섹션 "표 인덱스" 문서 신설 및 링크

---

## 진행 로그

- 1차 교정: 레코드 헤더/Tag ID 표/README 링크/컨트롤 출처/범례/VIDEO 주석/SOFTEDGE/색상 표기/주의 박스 반영
- 2차 보강: 컨트롤 표 전 섹션 출처 열 추가
